(this["webpackJsonpreact-mqtt-ws-client"]=this["webpackJsonpreact-mqtt-ws-client"]||[]).push([[0],{108:function(e,t){t.zhTW={props:{MuiBreadcrumbs:{expandText:"\u986f\u793a\u8def\u5f91"},MuiTablePagination:{backIconButtonText:"\u4e0a\u4e00\u9801",labelRowsPerPage:"\u6bcf\u9801\u7b46\u6578\uff1a",labelDisplayedRows:function(e){var t=e.from,n=e.to,r=e.count;return"".concat(t,"-").concat(n,"  \u5171").concat(-1!==r?r:"\u5927\u65bc ".concat(n))},nextIconButtonText:"\u4e0b\u4e00\u9801"},MuiRating:{getLabelText:function(e){return"".concat(e,"\u661f")},emptyLabelText:"\u7121"},MuiAutocomplete:{clearText:"\u6e05\u9664",closeText:"\u95dc\u9589",loadingText:"\u8f09\u5165\u4e2d\u2026",noOptionsText:"\u7121\u9078\u9805",openText:"\u958b\u555f"},MuiAlert:{closeText:"\u95dc\u9589"},MuiPagination:{"aria-label":"\u5206\u9801\u5c0e\u89bd",getItemAriaLabel:function(e,t,n){return"page"===e?"\u7b2c".concat(t,"\u9801"):"first"===e?"\u7b2c\u4e00\u9801":"last"===e?"\u6700\u5f8c\u4e00\u9801":"next"===e?"\u4e0b\u4e00\u9801":"previous"===e?"\u4e0a\u4e00\u9801":void 0}}},text:{ConfigActions:{connect:"\u9023\u7dda",disconnect:"\u4e2d\u65b7\u9023\u7dda",subscribe:"\u8a02\u95b1",unsubscribe:"\u53d6\u6d88\u8a02\u95b1",publish:"\u767c\u5e03",settings:"\u8a2d\u5b9a"},MessageTable:{rowsPerPage:"\u6bcf\u9801\u7b46\u6578",noMessage:"\u7121\u8a0a\u606f\u53ef\u986f\u793a\u3002"},NavBar:{hideButton:"\u96b1\u85cf\u6309\u9215",showButton:"\u986f\u793a\u6309\u9215"},MqttStatus:{connected:"\u5df2\u9023\u7dda",reconnecting:"\u91cd\u65b0\u9023\u7dda\u4e2d",closed:"\u5df2\u95dc\u9589",offline:"\u96e2\u7dda"},ConfigDialog:{closeBtn:"\u95dc\u9589"},MqttConnectDialog:{connectBtn:"\u9023\u7dda",disconnectBtn:"\u4e2d\u65b7\u9023\u7dda",title:"\u9023\u7dda\u81f3MQTT",contentText:"\u9023\u7dda\u81f3 MQTT server (WebSocket)\u3002",anomynousLabel:"\u533f\u540d\u767b\u5165",basicAuthLabel:"\u57fa\u672c\u8a8d\u8b49",usernameLabel:"\u5e33\u865f",passwordLabel:"\u5bc6\u78bc"},AppSettingsDialog:{localeLabel:"\u8a9e\u8a00",darkModeLabel:"\u9ed1\u6697\u6a21\u5f0f",lightModeLabel:"\u660e\u4eae\u6a21\u5f0f",startTimeLabel:"\u8d77\u59cb\u6642\u9593",endTimeLabel:"\u7d50\u675f\u6642\u9593",filter:"\u904e\u6ffe",filterOnLabel:"\u958b\u555f\u904e\u6ffe",filterOffLabel:"\u95dc\u9589\u904e\u6ffe",filterKeyLabel:"\u904e\u6ffe\u9375\u503c",filterTextLabel:"\u904e\u6ffe\u5167\u5bb9",langauges:{enUS:"English",zhTW:"\u7e41\u9ad4\u4e2d\u6587"},title:"\u8a2d\u5b9a",contentText:"MQTT Websocket Client \u8a2d\u5b9a\u3002"},TopicTextField:{topicLabel:"\u4e3b\u984c"},QosSlider:{qosLabel:"\u54c1\u8cea\u8a2d\u5b9a"},MqttSubscribeDialog:{subscribeBtn:"\u8a02\u95b1",unsubscribeBtn:"\u53d6\u6d88\u8a02\u95b1",title:"\u8a02\u95b1",contentText:"\u8a02\u95b1 MQTT \u4e3b\u984c\u3002",converterLabel:"\u8f49\u63db\u5668"},MqttPublishDialog:{publishBtn:"\u767c\u5e03",title:"\u767c\u5e03",contentText:"\u767c\u5e03 MQTT \u8a0a\u606f\u3002",messageLabel:"\u8a0a\u606f",messagePlaceholder:"\u8f38\u5165 MQTT \u8a0a\u606f"}},messages:{MQTT_CONNECT:function(e){return"".concat(e," \u9023\u7dda\u4e2d\u3002")},MQTT_CONNECT_TIMEOUT:"\u9023\u7dda\u903e\u6642\u3002",MQTT_DISCONNECT:"\u65b7\u7dda\u4e2d\u3002",MQTT_SUBSCRIBE:function(e){return"".concat(e," \u8a02\u95b1\u4e2d\u3002")},MQTT_SUBSCRIBE_FAIL:function(e){return"\u7121\u6cd5\u8a02\u95b1 ".concat(e," \u3002")},MQTT_UNSUBSCRIBE:function(e){return"".concat(e," \u53d6\u6d88\u8a02\u95b1\u4e2d\u3002")},MQTT_PUBLISHED:"\u767c\u5e03\u6210\u529f\u3002",MQTT_ON_CONNECT:"\u5df2\u9023\u7dda\u3002",MQTT_ON_CLOSE:"\u9023\u7dda\u95dc\u9589\u3002",MQTT_ON_RECONNECT:"\u91cd\u65b0\u9023\u7dda\u4e2d\u3002",MQTT_ON_OFFLINE:"MQTT \u96e2\u7dda\u3002",MQTT_PLAY:"\u66f4\u65b0\u8a0a\u606f\u4e2d\u3002",MQTT_PAUSE:"\u505c\u6b62\u8a0a\u606f\u66f4\u65b0\u3002",FILTER_INVALID_TIME_RANGE:"\u7121\u6548\u7684\u6642\u9593\u7bc4\u570d\u3002",CONVERTER_INVALID:"\u6b64\u8f49\u63db\u5668\u529f\u80fd\u4e0d\u5b58\u5728\u3002"}}},109:function(e,t){t.enUS={}},121:function(e,t,n){e.exports=n(234)},126:function(e,t,n){},129:function(e,t){},131:function(e,t){},200:function(e,t){},202:function(e,t){},224:function(e,t){},225:function(e,t){},234:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"zhTW",(function(){return ce.zhTW})),n.d(r,"enUS",(function(){return se.enUS}));var a=n(0),o=n.n(a),c=n(57),s=n.n(c);n(126),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var i=n(5),u=n(32),l=n(55),T=n(2),d=n(44),b=n.n(d),f=n(6),p=n(61),m="init",g="connect",O="subscribe",h="subscribed",v="unsubscribe",E="unsubscribed",M="publish",C="disconnect",_="onConnect",N="onReconnect",S="onClose",Q="onOffline",I="onError",L="onMessage",A="updateStatus",y="updateMessages",j="togglePause",B=[{messages:[]}],q=null,w=null,x=null,D=function(e,t){clearTimeout(x),x=setTimeout((function(){e.setAlert(t),"info"!==t[0]&&"success"!==t[0]||e.clearAlert(1e3)}),100)},R=function(e,t){switch(t.type){case L:var n=B.length-1;return B[n].messages.push(p.c[e.subscribedTo.converter](t)),q||e.pause||(q=setTimeout((function(){return e.dispatch({type:y})}),e.updateInterval)),e;case y:B.push({messages:[]}),q=null;var r=B[0].messages;return B.shift(),Object(T.a)({},e,{messages:[].concat(Object(l.a)(e.messages),Object(l.a)(r)),messagesCount:e.messagesCount+r.length});case m:return Object(T.a)({},e,{dispatch:t.dispatch});case g:e.mqtt&&e.mqtt.connected&&e.mqtt.end();var a=t.setting;try{var o=b.a.connect(a.url,Object(T.a)({},a,{username:a.anomynous?void 0:a.username,password:a.anomynous?void 0:a.password,reconnectPeriod:0}));return o.on("connect",(function(){return e.dispatch({type:_,status:"connected"})})),o.on("reconnect",(function(){return e.dispatch({type:N,status:"reconnecting"})})),o.on("close",(function(){return e.dispatch({type:S,status:"closed"})})),o.on("offline",(function(){return e.dispatch({type:Q,status:"offline"})})),o.on("error",(function(t){return e.dispatch({type:I,error:t})})),o.on("message",(function(t,n,r){return e.dispatch({type:L,topic:t,message:n,packet:r})})),e.setAlert(["info","MQTT_CONNECT",a.url]),w=setTimeout((function(){return e.setAlert(["error","MQTT_CONNECT_TIMEOUT"])}),5e3),Object(T.a)({},e,{mqtt:o})}catch(s){return console.log(JSON.stringify(s)),e.setAlert(["error",s]),e}case C:return e.setAlert(["info","MQTT_DISCONNECT"]),e.mqtt&&e.mqtt.connected&&e.mqtt.end(),e.dispatch({type:E}),e;case O:if(!e.subscribedTo.topic){e.setAlert(["info","MQTT_SUBSCRIBE",e.subscribedTo.topic]);var c=Object(u.a)({},t.setting.subscribeTo.topic,{qos:t.setting.subscribeTo.qos});e.mqtt.subscribe(c,(function(n,r){n?e.setAlert(["error",n]):r[0].qos>2?e.setAlert(["error","MQTT_SUBSCRIBE_FAIL",e.subscribedTo.topic]):e.dispatch({type:h,granted:Object(T.a)({},r[0],{converter:t.setting.subscribeTo.converter})})}))}return e;case h:return e.clearAlert(),Object(T.a)({},e,{subscribedTo:t.granted});case v:return e.subscribedTo.topic&&(e.setAlert(["info","MQTT_UNSUBSCRIBE",e.subscribedTo.topic]),e.mqtt.unsubscribe(e.subscribedTo.topic,(function(t){t?e.setAlert(["error",t]):e.dispatch({type:E})}))),e;case E:return e.clearAlert(),Object(T.a)({},e,{subscribedTo:Object(T.a)({},e.subscribedTo,{topic:"",qos:0})});case M:return e.mqtt.publish(t.setting.publishTo.topic,t.setting.publishTo.message,{qos:t.setting.publishTo.qos},(function(t){t?e.setAlert(["error",t]):(e.setAlert(["success","MQTT_PUBLISHED"]),e.clearAlert(1e3))})),e;case I:return console.log(t.error),Object(T.a)({},e,{error:t.error});case A:case _:return clearTimeout(w),D(e,["info","MQTT_ON_CONNECT"]),Object(T.a)({},e,{status:t.status});case S:return D(e,["warning","MQTT_ON_CLOSE"]),Object(T.a)({},e,{status:t.status});case N:return D(e,["warning","MQTT_ON_RECONNECT"]),Object(T.a)({},e,{status:t.status});case Q:return D(e,["warning","MQTT_ON_OFFLINE"]),Object(T.a)({},e,{status:t.status});case j:return D(e,e.pause?["success","MQTT_PLAY"]:["info","MQTT_PAUSE"]),Object(T.a)({},e,{pause:!e.pause});default:return e}};function U(e){var t=e.children,n=o.a.useContext(f.a),r=Object(i.a)(n,3),a=r[1],c=r[2],s=o.a.useReducer(R,{dispatch:null,updateInterval:100,mqtt:null,status:"offline",subscribedTo:{topic:"",qos:0},messages:[],messagesCount:0,setAlert:a,clearAlert:c,pause:!1}),u=Object(i.a)(s,2),l=u[0],T=u[1];return o.a.useEffect((function(){return T({type:m,dispatch:T}),function(){b.a&&b.a.connected&&l.mqtt.end()}}),[l.mqtt]),o.a.createElement(f.c.Provider,{value:[l,T]},t)}var P="mwc".endsWith("-")?"mwc":"mwc-";function k(e,t){var n=P+e,r=Object(a.useState)((function(){var e=localStorage.getItem(n);return null!=e?JSON.parse(e):"function"===typeof t?t():t})),o=Object(i.a)(r,2),c=o[0],s=o[1];return Object(a.useEffect)((function(){localStorage.setItem(n,JSON.stringify(c))}),[n,c]),[c,s]}function F(e){var t=e.children,n=k("mqttSetting",{url:"https:"===window.location.protocol?"wss://":"ws://",clientId:"mqtt-ws-client-".concat(Date.now().toString(36)),anomynous:!1,username:"",password:"",topic:["",0],subscribeTo:{topic:"",qos:0,converter:"default"},publishTo:{topic:"",qos:0},locale:"zhTW"}),r=Object(i.a)(n,2),a=r[0],c=r[1];return o.a.createElement(f.d.Provider,{value:[a,c]},t)}var W=(navigator.language||navigator.userLanguage).split("-").join("");function z(e){var t=e.children,n=k("appSetting",{locale:W,darkMode:!1,filterOn:!1,filter:{time:[null,null],text:["",""]}}),r=Object(i.a)(n,2),a=r[0],c=r[1];return o.a.createElement(f.b.Provider,{value:[a,c]},t)}var V=n(111),J=n(237),H=null,Y={MQTT_CONNECT:function(e){return"Connecting to ".concat(e,"...")},MQTT_CONNECT_TIMEOUT:"Connection timeout.",MQTT_DISCONNECT:"Disconnecting...",MQTT_SUBSCRIBE:function(e){return"Subscribing to ".concat(e,"...")},MQTT_SUBSCRIBE_FAIL:function(e){return"Can not subscribe to ".concat(e)},MQTT_UNSUBSCRIBE:function(e){return"Unsubscribing from ".concat(e,"...")},MQTT_PUBLISHED:"Published succesfully.",MQTT_ON_CONNECT:"Connected.",MQTT_ON_CLOSE:"Connection closed.",MQTT_ON_RECONNECT:"Reconnecting...",MQTT_ON_OFFLINE:"MQTT Offlined.",MQTT_PLAY:"Updating messages...",MQTT_PAUSE:"Pause message.",FILTER_INVALID_TIME_RANGE:"Invalid time range.",CONVERTER_INVALID:"Selected converter function does not exist."};function G(e){var t=e.children,n=Object(J.a)(),r=o.a.useState([]),a=Object(i.a)(r,2),c=a[0],s=a[1];return o.a.createElement(f.a.Provider,{value:[c,function(e){var t,r,a,o=Object(V.a)(e),c=o[0],i=o[1],u=o.slice(2);clearTimeout(H);var l=null!==(t=null!==(r=null===n||void 0===n||null===(a=n.messages)||void 0===a?void 0:a[i])&&void 0!==r?r:null===Y||void 0===Y?void 0:Y[i])&&void 0!==t?t:i;s([c,"function"===typeof l?l(u):l])},function(e){clearTimeout(H),H=setTimeout((function(){return s([])}),null!==e&&void 0!==e?e:100)}]},t)}var K=n(112),$=n(113),X=n(117),Z=n(118),ee=function(e){Object(Z.a)(n,e);var t=Object(X.a)(n);function n(e){var r;return Object(K.a)(this,n),(r=t.call(this,e)).state={hasError:!1},r}return Object($.a)(n,[{key:"componentDidCatch",value:function(e,t){console.log(e,t)}},{key:"render",value:function(){return this.state.hasError?o.a.createElement("h1",{style:{margin:"auto"}},"Oops! Something went wrong"):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),n}(o.a.Component),te=n(115),ne=n(116),re=n(244),ae=n(239),oe=n(114),ce=n(108),se=n(109),ie=n(27),ue=n.n(ie);n(233);ue.a.locale("en");var le=Object.keys(r);function Te(e){var t=e.children,n=o.a.useContext(f.b),a=Object(i.a)(n,1)[0],c=o.a.useMemo((function(){return Object(ne.a)(Object(T.a)({supportLocales:le,typography:{fontFamily:'"Roboto", "Noto Sans TC", "Helvetica", "Arial", sans-serif'},palette:{type:a.darkMode?"dark":"light",primary:{light:"#B5C7D3",main:"#658DC6",dark:"#0F4C81"},secondary:{light:"#F2D6AE",main:"#F5B895",dark:"#A58D7F"}}},te[a.locale],{},r[a.locale],{i18n:function(e,t,n){var r,a,o;return null!==(r=null===(a=this.text)||void 0===a||null===(o=a[e])||void 0===o?void 0:o[t])&&void 0!==r?r:n[t]}}))}),[a.darkMode,a.locale]);return o.a.createElement(re.a,{theme:c},o.a.createElement(ae.a,{utils:oe.a,locale:"".concat(a.locale.substring(0,2),"-").concat(a.locale.substring(2,4))},t))}function de(e){var t=e.children;return o.a.createElement(ee,null,o.a.createElement(z,null,o.a.createElement(Te,null,o.a.createElement(G,null,o.a.createElement(F,null,o.a.createElement(U,null,t))))))}var be=Object(a.lazy)((function(){return Promise.all([n.e(3),n.e(4)]).then(n.bind(null,423))}));s.a.render(o.a.createElement(de,null,o.a.createElement(a.Suspense,{fallback:o.a.createElement("h3",null,"Loading...")},o.a.createElement(be,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},6:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return c})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return i}));var r=n(0),a=n.n(r),o=a.a.createContext(null),c=a.a.createContext(null),s=a.a.createContext(null),i=a.a.createContext(null)},61:function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return i}));var r=n(2),a=function(e){return{topic:e.topic,message:e.message.toString(),qos:e.packet.qos,time:Date.now()}},o={default:{time:"Time",topic:"Topic",qos:"QoS",message:"Message"}},c={defaultFull:{cmd:"Command",retain:"Retained",dup:"Duplicate"}},s={default:a,defaultFull:function(e){return Object(r.a)({},a(e),{retain:e.packet.retain.toString(),dup:e.packet.dup.toString(),cmd:e.packet.cmd})}},i=[{value:"default",label:"Default"},{value:"defaultFull",label:"Default(Full)"},{value:"test",label:"test"}]}},[[121,1,2]]]);
//# sourceMappingURL=main.99190f47.chunk.js.map