(this["webpackJsonpreact-mqtt-ws-client"]=this["webpackJsonpreact-mqtt-ws-client"]||[]).push([[0],{102:function(e,t){t.zhTW={props:{MuiBreadcrumbs:{expandText:"\u986f\u793a\u8def\u5f91"},MuiTablePagination:{backIconButtonText:"\u4e0a\u4e00\u9801",labelRowsPerPage:"\u6bcf\u9801\u7b46\u6578\uff1a",labelDisplayedRows:function(e){var t=e.from,n=e.to,r=e.count;return"".concat(t,"-").concat(n,"  \u5171").concat(-1!==r?r:"\u5927\u65bc ".concat(n))},nextIconButtonText:"\u4e0b\u4e00\u9801"},MuiRating:{getLabelText:function(e){return"".concat(e,"\u661f")},emptyLabelText:"\u7121"},MuiAutocomplete:{clearText:"\u6e05\u9664",closeText:"\u95dc\u9589",loadingText:"\u8f09\u5165\u4e2d\u2026",noOptionsText:"\u7121\u9078\u9805",openText:"\u958b\u555f"},MuiAlert:{closeText:"\u95dc\u9589"},MuiPagination:{"aria-label":"\u5206\u9801\u5c0e\u89bd",getItemAriaLabel:function(e,t,n){return"page"===e?"\u7b2c".concat(t,"\u9801"):"first"===e?"\u7b2c\u4e00\u9801":"last"===e?"\u6700\u5f8c\u4e00\u9801":"next"===e?"\u4e0b\u4e00\u9801":"previous"===e?"\u4e0a\u4e00\u9801":void 0}}},text:{ConfigActions:{connect:"\u9023\u7dda",disconnect:"\u4e2d\u65b7\u9023\u7dda",subscribe:"\u8a02\u95b1",unsubscribe:"\u53d6\u6d88\u8a02\u95b1",publish:"\u767c\u5e03",settings:"\u8a2d\u5b9a"},NavBar:{hideButton:"\u96b1\u85cf\u6309\u9215",showButton:"\u986f\u793a\u6309\u9215"},MqttStatus:{connected:"\u5df2\u9023\u7dda",reconnecting:"\u91cd\u65b0\u9023\u7dda\u4e2d",closed:"\u5df2\u95dc\u9589",offline:"\u96e2\u7dda"},ConfigDialog:{closeBtn:"\u95dc\u9589"},MqttConnectDialog:{connectBtn:"\u9023\u7dda",disconnectBtn:"\u4e2d\u65b7\u9023\u7dda",title:"\u9023\u7dda\u81f3MQTT",contentText:"\u9023\u7dda\u81f3 MQTT server (WebSocket)\u3002",anomynousLabel:"\u533f\u540d\u767b\u5165",basicAuthLabel:"\u57fa\u672c\u8a8d\u8b49",usernameLabel:"\u5e33\u865f",passwordLabel:"\u5bc6\u78bc"},AppSettingsDialog:{localeLabel:"\u8a9e\u8a00",darkModeLabel:"\u9ed1\u6697\u6a21\u5f0f",lightModeLabel:"\u660e\u4eae\u6a21\u5f0f",startTimeLabel:"\u8d77\u59cb\u6642\u9593",endTimeLabel:"\u7d50\u675f\u6642\u9593",filter:"\u904e\u6ffe",filterOnLabel:"\u958b\u555f\u904e\u6ffe",filterOffLabel:"\u95dc\u9589\u904e\u6ffe",filterKeyLabel:"\u904e\u6ffe\u9375\u503c",filterTextLabel:"\u904e\u6ffe\u5167\u5bb9",langauges:{enUS:"English",zhTW:"\u7e41\u9ad4\u4e2d\u6587"},title:"\u8a2d\u5b9a",contentText:"MQTT Websocket Client \u8a2d\u5b9a\u3002"},TopicTextField:{topicLabel:"\u4e3b\u984c"},QosSlider:{qosLabel:"\u54c1\u8cea\u8a2d\u5b9a"},MqttSubscribeDialog:{subscribeBtn:"\u8a02\u95b1",unsubscribeBtn:"\u53d6\u6d88\u8a02\u95b1",title:"\u8a02\u95b1",contentText:"\u8a02\u95b1 MQTT \u4e3b\u984c\u3002",converterLabel:"\u8f49\u63db\u5668"},MqttPublishDialog:{publishBtn:"\u767c\u5e03",title:"\u767c\u5e03",contentText:"\u767c\u5e03 MQTT \u8a0a\u606f\u3002",messageLabel:"\u8a0a\u606f",messagePlaceholder:"\u8f38\u5165 MQTT \u8a0a\u606f"}}}},103:function(e,t){t.enUS={}},114:function(e,t,n){e.exports=n(227)},119:function(e,t,n){},122:function(e,t){},124:function(e,t){},193:function(e,t){},195:function(e,t){},217:function(e,t){},218:function(e,t){},227:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"zhTW",(function(){return te.zhTW})),n.d(r,"enUS",(function(){return ne.enUS}));var a=n(0),o=n.n(a),c=n(54),s=n.n(c);n(119),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var i=n(5),u=n(31),l=n(52),b=n(3),d=n(41),p=n.n(d),f=n(6),m=n(58),g="init",h="connect",v="subscribe",T="subscribed",O="unsubscribe",y="unsubscribed",j="publish",q="disconnect",w="onConnect",x="onReconnect",A="onClose",S="onOffline",E="onError",k="onMessage",M="updateStatus",C="updateMessages",L="togglePause",D=[{messages:[]}],B=null,P=null,F=function(e,t){switch(t.type){case k:var n=D.length-1;return D[n].messages.push(m.c[e.subscribedTo.converter](t)),B||e.pause||(B=setTimeout((function(){return e.dispatch({type:C})}),e.updateInterval)),e;case C:D.push({messages:[]}),B=null;var r=D[0].messages;return D.shift(),Object(b.a)({},e,{messages:[].concat(Object(l.a)(e.messages),Object(l.a)(r)),messagesCount:e.messagesCount+r.length});case g:return Object(b.a)({},e,{dispatch:t.dispatch});case h:e.mqtt&&e.mqtt.connected&&e.mqtt.end();var a=t.setting;try{var o=p.a.connect(a.url,Object(b.a)({},a,{username:a.anomynous?void 0:a.username,password:a.anomynous?void 0:a.password,reconnectPeriod:0}));return o.on("connect",(function(){return e.dispatch({type:w,status:"connected"})})),o.on("reconnect",(function(){return e.dispatch({type:x,status:"reconnecting"})})),o.on("close",(function(){return e.dispatch({type:A,status:"closed"})})),o.on("offline",(function(){return e.dispatch({type:S,status:"offline"})})),o.on("error",(function(t){return e.dispatch({type:E,error:t})})),o.on("message",(function(t,n,r){return e.dispatch({type:k,topic:t,message:n,packet:r})})),e.setAlert(["info","Connecting to ".concat(a.url,"...")]),P=setTimeout((function(){return e.setAlert(["error","Connection timeout."])}),5e3),Object(b.a)({},e,{mqtt:o})}catch(s){return console.log(JSON.stringify(s)),e.setAlert(["error",s]),e}case q:return e.setAlert(["info","Disconnecting..."]),e.mqtt&&e.mqtt.connected&&e.mqtt.end(),e.dispatch({type:y}),e;case v:if(!e.subscribedTo.topic){e.setAlert(["info","Subscribing to ".concat(e.subscribedTo.topic,"...")]);var c=Object(u.a)({},t.setting.subscribeTo.topic,{qos:t.setting.subscribeTo.qos});e.mqtt.subscribe(c,(function(n,r){n?e.setAlert(["error",n]):r[0].qos>2?e.setAlert(["error","Failed to subscribe topic."]):e.dispatch({type:T,granted:Object(b.a)({},r[0],{converter:t.setting.subscribeTo.converter})})}))}return e;case T:return e.clearAlert(),Object(b.a)({},e,{subscribedTo:t.granted});case O:return e.subscribedTo.topic&&(e.setAlert(["info","Unsubscribing from ".concat(e.subscribedTo.topic,"...")]),e.mqtt.unsubscribe(e.subscribedTo.topic,(function(t){t?e.setAlert(["error",t]):e.dispatch({type:y})}))),e;case y:return e.clearAlert(),Object(b.a)({},e,{subscribedTo:Object(b.a)({},e.subscribedTo,{topic:"",qos:0})});case j:return e.mqtt.publish(t.setting.publishTo.topic,t.setting.publishTo.message,{qos:t.setting.publishTo.qos},(function(t){t?e.setAlert(["error",t]):(e.setAlert(["success","Published"]),e.clearAlert(1e3))})),e;case E:return console.log(t.error),Object(b.a)({},e,{error:t.error});case M:case w:e.clearAlert(),clearTimeout(P);case x:case A:case S:return Object(b.a)({},e,{status:t.status});case L:return e.pause?e.setAlert(["success","Updating messages."]):e.setAlert(["info","Pause messages."]),e.clearAlert(1e3),Object(b.a)({},e,{pause:!e.pause});default:return e}};function W(e){var t=e.children,n=o.a.useContext(f.a),r=Object(i.a)(n,3),a=r[1],c=r[2],s=o.a.useReducer(F,{dispatch:null,updateInterval:100,mqtt:null,status:"offline",subscribedTo:{topic:"",qos:0},messages:[],messagesCount:0,setAlert:a,clearAlert:c,pause:!1}),u=Object(i.a)(s,2),l=u[0],b=u[1];return o.a.useEffect((function(){return b({type:g,dispatch:b}),function(){p.a&&p.a.connected&&l.mqtt.end()}}),[l.mqtt]),o.a.createElement(f.c.Provider,{value:[l,b]},t)}var I="mwc".endsWith("-")?"mwc":"mwc-";function Q(e,t){var n=I+e,r=Object(a.useState)((function(){var e=localStorage.getItem(n);return null!=e?JSON.parse(e):"function"===typeof t?t():t})),o=Object(i.a)(r,2),c=o[0],s=o[1];return Object(a.useEffect)((function(){localStorage.setItem(n,JSON.stringify(c))}),[n,c]),[c,s]}function R(e){var t=e.children,n=Q("mqttSetting",{url:"https:"===window.location.protocol?"wss://":"ws://",clientId:"mqtt-ws-client-".concat(Date.now().toString(36)),anomynous:!1,username:"",password:"",topic:["",0],subscribeTo:{topic:"",qos:0,converter:"default"},publishTo:{topic:"",qos:0},locale:"zhTW"}),r=Object(i.a)(n,2),a=r[0],c=r[1];return o.a.createElement(f.d.Provider,{value:[a,c]},t)}var z=n(240),U=(navigator.language||navigator.userLanguage).split("-").join("");function J(e){var t=e.children,n=Object(z.a)("(prefers-color-scheme: dark)");console.log(n);var r=Q("appSetting",{locale:U,darkMode:n,filterOn:!1,filter:{time:[null,null],text:["",""]}}),a=Object(i.a)(r,2),c=a[0],s=a[1];return o.a.createElement(f.b.Provider,{value:[c,s]},t)}function N(e){var t=e.children,n=o.a.useState([]),r=Object(i.a)(n,2),a=r[0],c=r[1];return o.a.createElement(f.a.Provider,{value:[a,c,function(e){setTimeout((function(){return c([])}),null!==e&&void 0!==e?e:100)}]},t)}var H=n(107),K=n(108),$=n(111),G=n(112),V=function(e){Object(G.a)(n,e);var t=Object($.a)(n);function n(e){var r;return Object(H.a)(this,n),(r=t.call(this,e)).state={hasError:!1},r}return Object(K.a)(n,[{key:"componentDidCatch",value:function(e,t){console.log(e,t)}},{key:"render",value:function(){return this.state.hasError?o.a.createElement("h1",{style:{margin:"auto"}},"Oops! Something went wrong"):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),n}(o.a.Component),X=n(110),Y=n(238),Z=n(241),_=n(233),ee=n(109),te=n(102),ne=n(103),re=n(26),ae=n.n(re);n(224);ae.a.locale("en");var oe=Object.keys(r);function ce(e){var t=e.children,n=o.a.useContext(f.b),a=Object(i.a)(n,1)[0],c=o.a.useMemo((function(){return Object(Y.a)(Object(b.a)({supportLocales:oe,typography:{fontFamily:'"Roboto", "Noto Sans TC", "Helvetica", "Arial", sans-serif'},palette:{type:a.darkMode?"dark":"light",primary:{light:"#B5C7D3",main:"#658DC6",dark:"#0F4C81"},secondary:{light:"#F2D6AE",main:"#F5B895",dark:"#A58D7F"}}},X[a.locale],{},r[a.locale],{i18n:function(e,t,n){var r,a,o;return null!==(r=null===(a=this.text)||void 0===a||null===(o=a[e])||void 0===o?void 0:o[t])&&void 0!==r?r:n[t]}}))}),[a.darkMode,a.locale]);return o.a.createElement(Z.a,{theme:c},o.a.createElement(_.a,{utils:ee.a,locale:"".concat(a.locale.substring(0,2),"-").concat(a.locale.substring(2,4))},t))}function se(e){var t=e.children;return o.a.createElement(V,null,o.a.createElement(J,null,o.a.createElement(ce,null,o.a.createElement(N,null,o.a.createElement(R,null,o.a.createElement(W,null,t))))))}var ie=Object(a.lazy)((function(){return Promise.all([n.e(3),n.e(4)]).then(n.bind(null,421))}));s.a.render(o.a.createElement(se,null,o.a.createElement(a.Suspense,{fallback:o.a.createElement("h3",null,"Loading...")},o.a.createElement(ie,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},58:function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return i}));var r=n(3),a=function(e){return{topic:e.topic,message:e.message.toString(),qos:e.packet.qos,time:Date.now()}},o={default:{time:"Time",topic:"Topic",qos:"QoS",message:"Message"}},c={defaultFull:{cmd:"Command",retain:"Retained",dup:"Duplicate"}},s={default:a,defaultFull:function(e){return Object(r.a)({},a(e),{retain:e.packet.retain.toString(),dup:e.packet.dup.toString(),cmd:e.packet.cmd})}},i=[{value:"default",label:"Default"},{value:"defaultFull",label:"Default(Full)"},{value:"test",label:"test"}]},6:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return c})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return i}));var r=n(0),a=n.n(r),o=a.a.createContext(null),c=a.a.createContext(null),s=a.a.createContext(null),i=a.a.createContext(null)}},[[114,1,2]]]);
//# sourceMappingURL=main.e48c3acc.chunk.js.map