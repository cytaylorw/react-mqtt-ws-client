{"version":3,"sources":["components/MqttStatus.js","components/NavBar.js","components/tables/ActionsRow.js","components/tables/MessageRow.js","components/tables/MessageTable.js","components/ConfigActions.js","components/AlertMessage.js","components/dialogs/ConfigDialog.js","components/dialogs/MqttConnectDialog.js","components/inputs/QosSlider.js","components/inputs/TopicTextField.js","components/dialogs/MqttSubscribeDialog.js","components/dialogs/MqttPublishDialog.js","components/dialogs/AppSettingsDialog.js","components/dialogs/DialogWrapper.js","App.js"],"names":["useStyles","makeStyles","theme","title","flexGrow","chipMargin","marginLeft","spacing","successBg","backgroundColor","palette","success","type","color","contrastText","errorBg","error","warningBg","warning","infoBg","info","defaultText","connected","reconnecting","closed","offline","MqttStatus","React","useContext","MqttSettingContext","mqttSetting","MqttContext","mqttState","classes","useTheme","Box","Chip","label","i18n","status","className","url","subscribedTo","topic","avatar","Avatar","qos","formMargin","hideButton","showButton","NavBar","props","hidden","onChange","AppBar","position","Toolbar","Typography","variant","process","FormControlLabel","control","Switch","checked","event","target","useStyles1","root","flexShrink","TablePaginationActions","count","page","rowsPerPage","onChangePage","IconButton","onClick","disabled","aria-label","direction","Math","ceil","max","useStyles2","fontWeight","cursor","text","primary","secondary","ActionsRow","dispatch","onChangeRowsPerPage","rowsPerPageOptions","colSpan","SelectProps","togglePause","TableRow","TableCell","pause","TablePagination","ActionsComponent","useRowStyles","row","borderBottom","MessageRow","columns","collpasedColumns","useState","open","setOpen","Object","keys","length","Fragment","size","map","column","key","Date","toLocaleString","style","paddingBottom","paddingTop","Collapse","in","timeout","unmountOnExit","margin","gutterBottom","component","Table","TableHead","entries","TableBody","container","minHeight","background","default","noMessage","textAlign","MessageTable","AppSettingContext","appSetting","setPage","setRowsPerPage","tableColumns","subscribeTo","converter","filtered","filterOn","messages","filter","message","time","getTime","RegExp","test","actionsRow","inputProps","native","newPage","parseInt","value","TableContainer","Paper","reverse","slice","index","TableFooter","elevation","speedDial","bottom","right","top","left","connect","disconnect","subscribe","unsubscribe","publish","settings","ConfigActions","handleClose","handleOpenDialog","dialog","actions","icon","name","handler","mqtt","SpeedDial","ariaLabel","SpeedDialIcon","onClose","onOpen","action","SpeedDialAction","tooltipTitle","tooltipOpen","width","zIndex","marginTop","alert","boxShadow","shadows","AlertMessage","AlertContext","clearAlert","Alert","severity","closeBtn","ConfigDialog","contentText","content","buttons","Dialog","fullWidth","aria-labelledby","DialogTitle","id","DialogContent","DialogContentText","DialogActions","Button","connectBtn","disconnectBtn","urlLabel","clientIdLabel","anomynousLabel","basicAuthLabel","usernameLabel","passwordLabel","MqttConnectDialog","showPassword","setShowPassword","setMqttSetting","connectDisabled","clientId","anomynous","username","password","handleChange","prop","credentialInputs","TextField","FormControl","InputLabel","htmlFor","endAdornment","InputAdornment","onMouseDown","preventDefault","setting","slider","marks","qosLabel","QosSlider","Slider","min","step","valueLabelDisplay","labelPlacement","topicLabel","TopicTextField","autoFocus","formControl","minWidth","subscribeBtn","unsubscribeBtn","converterLabel","MqttSubscribeDialog","setAlert","handleTopicChange","messageConverter","Select","types","Boolean","textarea","font","boxSizing","publishBtn","messageLabel","messagePlaceholder","MqttPublishDialog","publishTo","TextareaAutosize","placeholder","rowsMin","filterControl","flexDirection","localeLabel","darkModeLabel","lightModeLabel","startTimeLabel","endTimeLabel","filterOnLabel","filterOffLabel","filterKeyLabel","filterTextLabel","langauges","enUS","zhTW","AppSettingsDialog","setAppSetting","handleTimeChange","timeRange","isAfter","set","second","millisecond","isBefore","console","log","handleTextChange","textFilter","Autocomplete","options","supportLocales","getOptionLabel","substring","locale","disableClearable","newValue","renderInput","params","darkMode","FormGroup","DateTimePicker","clearable","labelId","MenuItem","DialogWrapper","openDialogs","openConnectDialog","openSubscribeDialog","openPublishDialog","openSettingsDialog","App","hideActionBtn","setHideActionBtn","setOpenConnectDialog","setOpenSubscribeDialog","setOpenPublishDialog","Container","maxWidth"],"mappings":"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","file":"static/js/4.9dcc15c4.chunk.js","sourcesContent":["import React from 'react'\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\nimport Box from '@material-ui/core/Box';\r\nimport Chip from '@material-ui/core/Chip';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport { MqttSettingContext,  MqttContext} from 'hooks/context/Contexts';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    title: {\r\n      flexGrow: 1,\r\n    },\r\n    chipMargin: {\r\n        marginLeft: theme.spacing(0.5),\r\n    },\r\n    successBg: {\r\n        backgroundColor: theme.palette.success[theme.palette.type],\r\n        color: theme.palette.success.contrastText\r\n    },\r\n    errorBg: {\r\n        backgroundColor: theme.palette.error[theme.palette.type],\r\n        color: theme.palette.error.contrastText\r\n    },\r\n    warningBg: {\r\n        backgroundColor: theme.palette.warning[theme.palette.type],\r\n        color: theme.palette.warning.contrastText\r\n    },\r\n    infoBg: {\r\n        backgroundColor: theme.palette.info[theme.palette.type],\r\n        color: theme.palette.info.contrastText\r\n    },\r\n}));\r\n\r\nconst defaultText = {\r\n    connected: 'CONNECTED',\r\n    reconnecting: 'RECONNECTING',\r\n    closed: 'CLOSED',\r\n    offline: 'OFFLINE'\r\n}\r\n\r\nexport default function MqttStatus() {\r\n    const [mqttSetting, ] = React.useContext(MqttSettingContext);\r\n    const [mqttState, ] = React.useContext(MqttContext);\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n    return (\r\n        <Box>\r\n            <Chip \r\n                label={theme.i18n('MqttStatus',mqttState.status, defaultText)}\r\n                className={`\r\n                    ${classes.chipMargin} \r\n                    ${mqttState.status === 'connected' ? \r\n                        classes.successBg : \r\n                        mqttState.status === 'reconnecting' ?\r\n                            classes.warningBg :\r\n                            classes.errorBg \r\n                }`} \r\n                \r\n            />\r\n            {\r\n                mqttState.status === 'connected' ? \r\n                    <Chip \r\n                        label={mqttSetting.url} \r\n                        className={`${classes.chipMargin} ${classes.infoBg}`}\r\n                    /> :\r\n                    null\r\n            }\r\n            {\r\n                mqttState.subscribedTo.topic ? \r\n                    <Chip \r\n                        avatar={<Avatar className={classes.successBg}>{mqttState.subscribedTo.qos}</Avatar>} \r\n                        label={mqttState.subscribedTo.topic} \r\n                        className={`${classes.chipMargin} ${classes.infoBg}`}\r\n                    /> :\r\n                    null\r\n            }\r\n        </Box>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\nimport AppBar from '@material-ui/core/AppBar'\r\nimport Toolbar from '@material-ui/core/Toolbar'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Switch from '@material-ui/core/Switch';\r\n\r\nimport MqttStatus from 'components/MqttStatus';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    title: {\r\n      flexGrow: 1,\r\n    },\r\n    formMargin: {\r\n        marginLeft: theme.spacing(1),\r\n    },\r\n}));\r\n\r\nconst defaultText = {\r\n    hideButton: 'Hide button',\r\n    showButton: 'Show button'\r\n}\r\n\r\nexport default function NavBar(props) {\r\n    const {\r\n        hidden,\r\n        onChange\r\n    } = props;\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n\r\n    \r\n    const handleHiddenChange = (event) => {\r\n        onChange(event.target.checked);\r\n    };\r\n\r\n    return (\r\n        <AppBar position=\"fixed\">\r\n            <Toolbar>\r\n                <Typography variant=\"h6\" className={classes.title}>\r\n                    {process.env.REACT_APP_WEBSITE_NAME}\r\n                </Typography>\r\n                <MqttStatus></MqttStatus>\r\n                <FormControlLabel\r\n                    className={classes.formMargin}\r\n                    control={<Switch checked={hidden} onChange={handleHiddenChange} color=\"default\" />}\r\n                    label={ theme.i18n('NavBar',hidden ? 'showButton' : 'hideButton', defaultText)}\r\n                />\r\n            </Toolbar>\r\n        </AppBar>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TablePagination from '@material-ui/core/TablePagination';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport FirstPageIcon from '@material-ui/icons/FirstPage';\r\nimport KeyboardArrowLeft from '@material-ui/icons/KeyboardArrowLeft';\r\nimport KeyboardArrowRight from '@material-ui/icons/KeyboardArrowRight';\r\nimport LastPageIcon from '@material-ui/icons/LastPage';\r\nimport PauseCircleOutlineIcon from '@material-ui/icons/PauseCircleOutline';\r\nimport PlayCircleOutlineIcon from '@material-ui/icons/PlayCircleOutline';\r\nimport { MqttContext } from 'hooks/context/Contexts';\r\n\r\nconst useStyles1 = makeStyles((theme) => ({\r\n  root: {\r\n    flexShrink: 0,\r\n    marginLeft: theme.spacing(2.5),\r\n  },\r\n}));\r\n\r\nfunction TablePaginationActions(props) {\r\n  const classes = useStyles1();\r\n  const theme = useTheme();\r\n  const { count, page, rowsPerPage, onChangePage } = props;\r\n\r\n  const handleFirstPageButtonClick = (event) => {\r\n    onChangePage(event, 0);\r\n  };\r\n\r\n  const handleBackButtonClick = (event) => {\r\n    onChangePage(event, page - 1);\r\n  };\r\n\r\n  const handleNextButtonClick = (event) => {\r\n    onChangePage(event, page + 1);\r\n  };\r\n\r\n  const handleLastPageButtonClick = (event) => {\r\n    onChangePage(event, Math.max(0, Math.ceil(count / rowsPerPage) - 1));\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <IconButton\r\n        onClick={handleFirstPageButtonClick}\r\n        disabled={page === 0}\r\n        aria-label=\"first page\"\r\n      >\r\n        {theme.direction === 'rtl' ? <LastPageIcon /> : <FirstPageIcon />}\r\n      </IconButton>\r\n      <IconButton onClick={handleBackButtonClick} disabled={page === 0} aria-label=\"previous page\">\r\n        {theme.direction === 'rtl' ? <KeyboardArrowRight /> : <KeyboardArrowLeft />}\r\n      </IconButton>\r\n      <IconButton\r\n        onClick={handleNextButtonClick}\r\n        disabled={page >= Math.ceil(count / rowsPerPage) - 1}\r\n        aria-label=\"next page\"\r\n      >\r\n        {theme.direction === 'rtl' ? <KeyboardArrowLeft /> : <KeyboardArrowRight />}\r\n      </IconButton>\r\n      <IconButton\r\n        onClick={handleLastPageButtonClick}\r\n        disabled={page >= Math.ceil(count / rowsPerPage) - 1}\r\n        aria-label=\"last page\"\r\n      >\r\n        {theme.direction === 'rtl' ? <FirstPageIcon /> : <LastPageIcon />}\r\n      </IconButton>\r\n    </div>\r\n  );\r\n}\r\n\r\nTablePaginationActions.propTypes = {\r\n  count: PropTypes.number.isRequired,\r\n  onChangePage: PropTypes.func.isRequired,\r\n  page: PropTypes.number.isRequired,\r\n  rowsPerPage: PropTypes.number.isRequired,\r\n};\r\n\r\nconst useStyles2 = makeStyles((theme) => ({\r\n  control: {\r\n    fontWeight: 400,\r\n    cursor: 'pointer',\r\n    color: theme.palette.text.primary,\r\n    \"&:hover\": {\r\n      color: theme.palette.text.secondary\r\n    }\r\n  },\r\n}));\r\n\r\nexport default function ActionsRow(props) {\r\n  const classes = useStyles2();\r\n  const [mqttState, dispatch] = React.useContext(MqttContext);\r\n\r\n  const { count, page, rowsPerPage, onChangePage, onChangeRowsPerPage, rowsPerPageOptions, colSpan, SelectProps } = props;\r\n\r\n  const togglePause = () => {\r\n    dispatch({type: 'togglePause'});\r\n  }\r\n\r\n  return (\r\n          <TableRow>\r\n            <TableCell>\r\n              { mqttState.pause ? \r\n                <PlayCircleOutlineIcon onClick={togglePause} className={`MuiSvgIcon-root ${classes.control}`}/> :\r\n                <PauseCircleOutlineIcon onClick={togglePause} className={`MuiSvgIcon-root ${classes.control}`}/>\r\n              }\r\n            </TableCell>\r\n            <TablePagination\r\n              rowsPerPageOptions={rowsPerPageOptions}\r\n              colSpan={colSpan-1}\r\n              count={count}\r\n              rowsPerPage={rowsPerPage}\r\n              page={page}\r\n              SelectProps={SelectProps}\r\n              onChangePage={onChangePage}\r\n              onChangeRowsPerPage={onChangeRowsPerPage}\r\n              ActionsComponent={TablePaginationActions}\r\n            />\r\n          </TableRow>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Box from '@material-ui/core/Box';\r\nimport Collapse from '@material-ui/core/Collapse';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport KeyboardArrowDownIcon from '@material-ui/icons/KeyboardArrowDown';\r\nimport KeyboardArrowUpIcon from '@material-ui/icons/KeyboardArrowUp';\r\n\r\nconst useRowStyles = makeStyles((theme) => ({\r\n    row: {\r\n      '& > *': {\r\n        borderBottom: 'unset',\r\n      },\r\n    },\r\n  }));\r\n  \r\n  \r\nexport default function MessageRow(props) {\r\n    const { columns, collpasedColumns, row } = props;\r\n    const [open, setOpen] = React.useState(false);\r\n    const classes = useRowStyles();\r\n    const colSpan = Object.keys(columns).length + 1;\r\n  \r\n    return (\r\n      <React.Fragment>\r\n        <TableRow className={classes.row}>\r\n          <TableCell>\r\n          { collpasedColumns ?\r\n            <IconButton aria-label=\"expand row\" size=\"small\" onClick={() => setOpen(!open)}>\r\n              {open ? <KeyboardArrowUpIcon /> : <KeyboardArrowDownIcon />}\r\n            </IconButton>\r\n          : null}\r\n          </TableCell>\r\n          {Object.keys(columns).map((column) => (\r\n              <TableCell key={column}>{column === 'time' ? new Date(row[column]).toLocaleString() : row[column]}</TableCell>\r\n          ))}\r\n        </TableRow>\r\n        { collpasedColumns ? \r\n            <TableRow>\r\n            <TableCell style={{ paddingBottom: 0, paddingTop: 0 }} colSpan={colSpan}>\r\n                <Collapse in={open} timeout=\"auto\" unmountOnExit>\r\n                <Box margin={1}>\r\n                    <Typography variant=\"h6\" gutterBottom component=\"div\">\r\n                    Metadata\r\n                    </Typography>\r\n                    <Table size=\"small\" aria-label=\"purchases\">\r\n                    <TableHead>\r\n                        <TableRow>\r\n                        {Object.entries(collpasedColumns).map(([key, column]) => (\r\n                            <TableCell key={key}>{column}</TableCell>\r\n                        ))}\r\n                        </TableRow>\r\n                    </TableHead>\r\n                    <TableBody>\r\n                        <TableRow>\r\n                            {Object.keys(collpasedColumns).map((column) => (\r\n                                <TableCell key={column}>{column === 'time' ? new Date(row[column]).toLocaleString() : row[column]}</TableCell>\r\n                            ))}\r\n                        </TableRow>\r\n                    </TableBody>\r\n                    </Table>\r\n                </Box>\r\n                </Collapse>\r\n            </TableCell>\r\n            </TableRow>\r\n        : null}\r\n      </React.Fragment>\r\n    );\r\n  }\r\n  ","import React from 'react';\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport TableFooter from '@material-ui/core/TableFooter';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { AppSettingContext, MqttContext, MqttSettingContext } from 'hooks/context/Contexts';\r\nimport ActionsRow from 'components/tables/ActionsRow';\r\nimport MessageRow from 'components/tables/MessageRow';\r\nimport { columns, collpasedColumns } from 'lib/converter/MessageConverter';\r\n\r\nconst useRowStyles = makeStyles((theme) => ({\r\n  container: {\r\n      paddingTop: theme.spacing(10),\r\n      minHeight: '100vh',\r\n      backgroundColor: theme.palette.background.default \r\n  },\r\n  noMessage: {\r\n    textAlign: 'center'\r\n  }\r\n}));\r\n\r\nconst defaultText = {\r\n  rowsPerPage: 'rows per page',\r\n  noMessage: 'No message to display.'\r\n}\r\n\r\nexport default function MessageTable() {\r\n  const classes = useRowStyles();\r\n  const theme = useTheme();\r\n  const [mqttState, ] = React.useContext(MqttContext);\r\n  const [mqttSetting, ] = React.useContext(MqttSettingContext);\r\n  const [appSetting, ] = React.useContext(AppSettingContext);\r\n  const [page, setPage] = React.useState(0);\r\n  const [rowsPerPage, setRowsPerPage] = React.useState(10);\r\n\r\n  const tableColumns = columns[mqttSetting.subscribeTo.converter] ? \r\n    columns[mqttSetting.subscribeTo.converter] : \r\n    columns['default'];\r\n  const colSpan = Object.keys(tableColumns).length+1;\r\n  const pageOptions = [10, 25, 50, 100];\r\n  const filtered = appSetting.filterOn ? mqttState.messages.filter((message) => {\r\n    if(appSetting.filter.time[0]){\r\n      let time = new Date(appSetting.filter.time[0]);\r\n      if(message.time < time.getTime()) return false;\r\n    }\r\n    if(appSetting.filter.time[1]){\r\n      let time = new Date(appSetting.filter.time[1]);\r\n      if(message.time > time.getTime()) return false;\r\n    }\r\n    if(appSetting.filter.text[0] && appSetting.filter.text[1]){\r\n      let regex =  new RegExp(appSetting.filter.text[1], 'i');\r\n      if(!regex.test(message[appSetting.filter.text[0]])) return false;\r\n    }\r\n    return true;\r\n  }) : mqttState.messages;\r\n  const handleChangePage = (event, newPage) => {\r\n    setPage(newPage);\r\n  };\r\n\r\n  const handleChangeRowsPerPage = (event) => {\r\n    setRowsPerPage(parseInt(event.target.value, 10));\r\n    setPage(0);\r\n  };\r\n\r\n  const actionsRow = (\r\n    <ActionsRow\r\n      rowsPerPageOptions={pageOptions}\r\n      colSpan={colSpan}\r\n      count={filtered.length}\r\n      rowsPerPage={rowsPerPage}\r\n      page={page}\r\n      SelectProps={{\r\n        inputProps: { 'aria-label': theme.i18n('MessageTable','rowsPerPage', defaultText) },\r\n        native: true,\r\n      }}\r\n      onChangePage={handleChangePage}\r\n      onChangeRowsPerPage={handleChangeRowsPerPage}\r\n    />\r\n  );\r\n\r\n  return filtered?.length ? (\r\n    \r\n      <TableContainer component={Paper}>\r\n        <Table size=\"small\" aria-label=\"collapsible table\">\r\n          <TableHead>\r\n            {actionsRow}\r\n          </TableHead>\r\n          <TableHead>\r\n            <TableRow>\r\n                <TableCell />\r\n                {Object.entries(tableColumns).map(([key, column]) => (\r\n                    <TableCell key={key}>{column}</TableCell>\r\n                ))}\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n          {filtered.reverse().slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\r\n          .map((message, index) => (\r\n              <MessageRow \r\n                key={index} \r\n                row={message}\r\n                columns={tableColumns}\r\n                collpasedColumns={collpasedColumns[mqttSetting.subscribeTo.converter]}\r\n              />\r\n          ))}\r\n          </TableBody>\r\n          <TableFooter>\r\n            {actionsRow}\r\n          </TableFooter>\r\n        </Table>\r\n      </TableContainer>\r\n  ) : (\r\n    <Paper elevation={3}> \r\n      <Typography variant=\"h4\" className={classes.noMessage}>\r\n        {theme.i18n('MessageTable','noMessage', defaultText)}\r\n      </Typography> \r\n    </Paper>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\nimport SpeedDial from '@material-ui/lab/SpeedDial';\r\nimport SpeedDialIcon from '@material-ui/lab/SpeedDialIcon';\r\nimport SpeedDialAction from '@material-ui/lab/SpeedDialAction';\r\nimport InputIcon from '@material-ui/icons/Input';\r\nimport CancelPresentationIcon from '@material-ui/icons/CancelPresentation';\r\nimport SettingsIcon from '@material-ui/icons/Settings';\r\nimport AddToQueueIcon from '@material-ui/icons/AddToQueue';\r\nimport RemoveFromQueueIcon from '@material-ui/icons/RemoveFromQueue';\r\nimport PublishIcon from '@material-ui/icons/Publish';\r\nimport { MqttContext } from 'hooks/context/Contexts';\r\n\r\nimport 'components/ConfigActions.css';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  speedDial: {\r\n    position: 'fixed',\r\n    '&.MuiSpeedDial-directionUp, &.MuiSpeedDial-directionLeft': {\r\n      bottom: theme.spacing(2),\r\n      right: theme.spacing(2),\r\n    },\r\n    '&.MuiSpeedDial-directionDown, &.MuiSpeedDial-directionRight': {\r\n      top: theme.spacing(2),\r\n      left: theme.spacing(2),\r\n    },\r\n  },\r\n}));\r\n\r\nconst defaultText = {\r\n  connect: 'Connect',\r\n  disconnect: 'Disconnect',\r\n  subscribe: 'Subscribe',\r\n  unsubscribe: 'Unsubscribe',\r\n  publish: 'Publish',\r\n  settings: 'Settings'\r\n}\r\n\r\nexport default function ConfigActions(props) {\r\n  const {\r\n      hidden,\r\n      onClick\r\n  } = props;\r\n  const classes = useStyles();\r\n  const [open, setOpen] = React.useState(false);\r\n  const [mqttState, dispatch] = React.useContext(MqttContext);\r\n  const theme = useTheme();\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const handleOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleOpenDialog = (dialog) => () => {\r\n    handleClose();\r\n    onClick(dialog);\r\n  }\r\n\r\n  const handleDisconnect = () =>{\r\n    if(mqttState.status === 'connected') dispatch({type: 'disconnect', dispatch});\r\n  }\r\n\r\n  const handleUnsubscribe = () =>{\r\n    if(mqttState.subscribedTo.topic) dispatch({type: 'unsubscribe', dispatch});\r\n  }\r\n\r\n  const actions = [\r\n    { \r\n        icon: <InputIcon />, \r\n        name: theme.i18n('ConfigActions','connect', defaultText),\r\n        handler: handleOpenDialog('connect'), \r\n        open: true\r\n    },\r\n    { \r\n        icon: <CancelPresentationIcon />, \r\n        name: theme.i18n('ConfigActions','disconnect', defaultText), \r\n        handler: handleDisconnect, \r\n        open: mqttState.status === 'connected' && mqttState.mqtt.connected\r\n    },\r\n    { \r\n        icon: <AddToQueueIcon />, \r\n        name: theme.i18n('ConfigActions','subscribe', defaultText), \r\n        handler: handleOpenDialog('subscribe'),\r\n        open: mqttState.status === 'connected' && mqttState.mqtt.connected\r\n    },\r\n    { \r\n        icon: <RemoveFromQueueIcon />, \r\n        name: theme.i18n('ConfigActions','unsubscribe', defaultText),\r\n        handler: handleUnsubscribe,\r\n        open: mqttState.subscribedTo.topic && mqttState.mqtt.connected\r\n    },\r\n    { \r\n        icon: <PublishIcon />, \r\n        name: theme.i18n('ConfigActions','publish', defaultText),\r\n        handler: handleOpenDialog('publish'),\r\n        open: mqttState.status === 'connected' && mqttState.mqtt.connected \r\n    },\r\n    { \r\n        icon: <SettingsIcon />, \r\n        name: theme.i18n('ConfigActions','settings', defaultText),\r\n        handler: handleOpenDialog('settings'),\r\n        open: true\r\n    },\r\n  ];\r\n\r\n  return (\r\n        <SpeedDial\r\n          ariaLabel=\"SpeedDial example\"\r\n          className={`${classes.speedDial} ConfigActions ${hidden ? 'ConfigActions-hide' : ''}`}\r\n          hidden={hidden}\r\n          icon={<SpeedDialIcon />}\r\n          onClose={handleClose}\r\n          onOpen={handleOpen}\r\n          open={open}\r\n          direction=\"up\"\r\n        >\r\n          {actions.map((action) => \r\n            action.open ? (\r\n              <SpeedDialAction\r\n                key={action.name}\r\n                icon={action.icon}\r\n                tooltipTitle={action.name}\r\n                onClick={action.handler}\r\n                tooltipOpen={action.open}\r\n              />\r\n            ) : null\r\n          )}\r\n        </SpeedDial>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Alert from '@material-ui/lab/Alert';\r\nimport { AlertContext } from 'hooks/context/Contexts';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: '100%',\r\n    position: 'fixed',\r\n    top: theme.spacing(10),\r\n    zIndex: 99999,\r\n    '& > * + *': {\r\n      marginTop: theme.spacing(2),\r\n    },\r\n  },\r\n  alert: {\r\n    boxShadow: theme.shadows[8]\r\n  }\r\n}));\r\n\r\nexport default function AlertMessage() {\r\n  const classes = useStyles();\r\n  const [alert, , clearAlert] = React.useContext(AlertContext);\r\n  const handleClose = () => {\r\n    clearAlert()\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      {alert.length > 1 ? \r\n        <Alert severity={alert[0]} onClose={handleClose} className={classes.alert}>\r\n          {alert[1]?.message ?? alert[1]}\r\n        </Alert>\r\n      : null}\r\n    </div>\r\n  );\r\n}","import React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport { useTheme } from '@material-ui/core/styles';\r\n\r\nconst defaultText = {\r\n    closeBtn: 'Close',\r\n}\r\n\r\nexport default function ConfigDialog(props) {\r\n  const {\r\n    open, \r\n    onChange,\r\n    title,\r\n    contentText,\r\n    content,\r\n    buttons} = props;\r\n  const theme = useTheme();\r\n\r\n  const handleClose = () => {\r\n    onChange(false);\r\n  };\r\n\r\n  return (\r\n      <Dialog fullWidth open={open} onClose={handleClose} aria-labelledby=\"connect-dialog-title\">\r\n        <DialogTitle id=\"connect-dialog-title\">{title}</DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText>\r\n            {contentText}\r\n          </DialogContentText>\r\n          {content}\r\n        </DialogContent>\r\n        <DialogActions>\r\n          {buttons}\r\n          <Button onClick={handleClose} variant={theme.palette.type === 'dark' ? 'contained' : 'text'}>\r\n            {theme.i18n('ConfigDialog','closeBtn', defaultText)}\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Input from '@material-ui/core/Input';\r\nimport Switch from '@material-ui/core/Switch';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Visibility from '@material-ui/icons/Visibility';\r\nimport VisibilityOff from '@material-ui/icons/VisibilityOff';\r\nimport { MqttSettingContext,  MqttContext} from 'hooks/context/Contexts';\r\nimport ConfigDialog from 'components/dialogs/ConfigDialog';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  margin: {\r\n    margin: theme.spacing(1),\r\n  },\r\n}));\r\n\r\nconst defaultText = {\r\n  connectBtn: 'Connect',\r\n  disconnectBtn: 'Disconnect',\r\n  title: 'Connect to MQTT',\r\n  contentText: 'Connect to a MQTT server over WebSocket.',\r\n  urlLabel: 'URL',\r\n  clientIdLabel: 'Client ID',\r\n  anomynousLabel: 'Anomynous',\r\n  basicAuthLabel: 'Basic Authentication',\r\n  usernameLabel: 'Username',\r\n  passwordLabel: 'Password'\r\n}\r\n\r\nexport default function MqttConnectDialog(props) {\r\n  const classes = useStyles();\r\n  const theme = useTheme();\r\n  const {open, onChange} = props;\r\n  const [showPassword, setShowPassword] = React.useState(false);\r\n  const [mqttSetting, setMqttSetting] = React.useContext(MqttSettingContext);\r\n  const [mqttState, dispatch] = React.useContext(MqttContext);\r\n\r\n  const connectDisabled = mqttState.mqtt?.connected || !mqttSetting.url || !mqttSetting.clientId || \r\n    (!mqttSetting.anomynous && (!mqttSetting.username || !mqttSetting.password));\r\n\r\n  const handleClickShowPassword = () => {\r\n    setShowPassword(!showPassword);\r\n  };\r\n\r\n  const handleMouseDownPassword = (event) => {\r\n    event.preventDefault();\r\n  };\r\n\r\n  const handleConnect = () => {\r\n    dispatch({type: 'connect', setting: mqttSetting});\r\n  }\r\n\r\n  const handlDisconnect = () =>{\r\n    dispatch({type: 'disconnect'});\r\n  }\r\n\r\n  const handleChange = (prop) => (event) => {\r\n    setMqttSetting({ \r\n      ...mqttSetting, \r\n      [prop]: event.target.type === 'checkbox' ? event.target.checked : event.target.value \r\n    });\r\n  };\r\n\r\n  const credentialInputs = (\r\n    <>\r\n      <TextField \r\n        fullWidth \r\n        className={classes.margin} \r\n        id=\"mqtt-username\" \r\n        label={theme.i18n('MqttConnectDialog','usernameLabel', defaultText)}\r\n        value={mqttSetting.username}\r\n        onChange={handleChange('username')}\r\n        error={!mqttSetting.username}\r\n      />\r\n      <FormControl fullWidth className={classes.margin}>\r\n        <InputLabel htmlFor=\"standard-adornment-password\" error={!mqttSetting.password}>\r\n          {theme.i18n('MqttConnectDialog','passwordLabel', defaultText)}\r\n        </InputLabel>\r\n        <Input\r\n          id=\"mqtt-password\"\r\n          type={showPassword ? 'text' : 'password'}\r\n          value={mqttSetting.password}\r\n          onChange={handleChange('password')}\r\n          error={!mqttSetting.password}\r\n          endAdornment={\r\n            <InputAdornment position=\"end\">\r\n              <IconButton\r\n                aria-label=\"toggle password visibility\"\r\n                onClick={handleClickShowPassword}\r\n                onMouseDown={handleMouseDownPassword}\r\n              >\r\n                {showPassword ? <Visibility /> : <VisibilityOff />}\r\n              </IconButton>\r\n            </InputAdornment>\r\n          }\r\n        />\r\n      </FormControl>\r\n    </>\r\n  )\r\n\r\n  return (\r\n    <ConfigDialog\r\n      open={open}\r\n      onChange={onChange}\r\n      title={theme.i18n('MqttConnectDialog','title', defaultText)}\r\n      contentText={theme.i18n('MqttConnectDialog','contentText', defaultText)}\r\n      content={(\r\n        <>\r\n          <FormControl fullWidth className={classes.margin} error={!mqttSetting.url}>\r\n            <InputLabel htmlFor=\"standard-adornment-amount\">{theme.i18n('MqttConnectDialog','urlLabel', defaultText)}</InputLabel>\r\n            <Input\r\n              id=\"standard-adornment-url\"\r\n              value={mqttSetting.url}\r\n              onChange={handleChange('url')}\r\n              // startAdornment={<InputAdornment position=\"start\">ws://</InputAdornment>}\r\n            />\r\n          </FormControl>\r\n          <TextField \r\n            fullWidth \r\n            className={classes.margin} \r\n            id=\"mqtt-clientId\" \r\n            label={theme.i18n('MqttConnectDialog','clientIdLabel', defaultText)}\r\n            value={mqttSetting.clientId}\r\n            onChange={handleChange('clientId')}\r\n            error={!mqttSetting.clientId}\r\n          />\r\n          <FormControl fullWidth className={classes.margin}>\r\n            <FormControlLabel\r\n              control={\r\n                <Switch\r\n                  checked={mqttSetting.anomynous}\r\n                  onChange={handleChange('anomynous')}\r\n                  name=\"anomynous\"\r\n                  color=\"secondary\"\r\n                />\r\n              }\r\n              label={theme.i18n('MqttConnectDialog',mqttSetting.anomynous ? 'anomynousLabel' : 'basicAuthLabel', defaultText)}\r\n              // labelPlacement=\"start\"\r\n            />\r\n          </FormControl>\r\n          {mqttSetting.anomynous ? null : credentialInputs}\r\n        </>\r\n      )}\r\n      buttons={(\r\n        <>\r\n          <Button \r\n            onClick={handleConnect} \r\n            color=\"primary\" \r\n            disabled={connectDisabled}\r\n            variant={theme.palette.type === 'dark' ? 'contained' : 'text'}\r\n          >\r\n            {theme.i18n('MqttConnectDialog','connectBtn', defaultText)}\r\n          </Button>\r\n          <Button \r\n            onClick={handlDisconnect} \r\n            color=\"primary\" \r\n            disabled={mqttState.status !== 'connected' || !mqttState.mqtt?.connected}\r\n            variant={theme.palette.type === 'dark' ? 'contained' : 'text'}\r\n          >\r\n            {theme.i18n('MqttConnectDialog','disconnectBtn', defaultText)}\r\n          </Button>\r\n        </>\r\n      )}\r\n    />\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\nimport Slider from '@material-ui/core/Slider';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  margin: {\r\n    margin: theme.spacing(1),\r\n  },\r\n  slider: {\r\n    width: '100px',\r\n    marginLeft: theme.spacing(2),\r\n  },\r\n}));\r\n\r\nconst marks = [\r\n  {\r\n    value: 0,\r\n    label: '0'\r\n  },\r\n  {\r\n    value: 1,\r\n    label: '1'\r\n  },\r\n  {\r\n    value: 2,\r\n    label: '2'\r\n  },\r\n]\r\n\r\nconst defaultText = {\r\n  qosLabel: 'QoS',\r\n}\r\n\r\nexport default function QosSlider(props) {\r\n  const theme = useTheme();\r\n  const classes = useStyles();\r\n  const { value, onChange} = props;\r\n  return (\r\n          <FormControlLabel\r\n            control={\r\n              <Slider\r\n                value={value}\r\n                min={0}\r\n                max={2}\r\n                step={1}\r\n                marks={marks}\r\n                valueLabelDisplay=\"off\"\r\n                className={classes.slider} \r\n                onChange={onChange}\r\n              />\r\n            }\r\n            label={theme.i18n('QosSlider','qosLabel', defaultText)}\r\n            labelPlacement=\"start\"\r\n            className={classes.margin} \r\n          />\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\nimport TextField from '@material-ui/core/TextField';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  margin: {\r\n    margin: theme.spacing(1),\r\n  },\r\n}));\r\n\r\nconst defaultText = {\r\n  topicLabel: 'Topic',\r\n}\r\n\r\nexport default function TopicTextField(props) {\r\n  const theme = useTheme();\r\n  const classes = useStyles();\r\n  const { value, error, onChange } = props;\r\n\r\n  return (\r\n          <TextField\r\n            autoFocus\r\n            id=\"topic\"\r\n            label={theme.i18n('TopicTextField','topicLabel', defaultText)}\r\n            type=\"text\"\r\n            fullWidth\r\n            className={classes.margin} \r\n            onChange={onChange}\r\n            value={value}\r\n            error={error}\r\n          />\r\n\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport ConfigDialog from 'components/dialogs/ConfigDialog';\r\nimport QosSlider from 'components/inputs/QosSlider';\r\nimport TopicTextField from 'components/inputs/TopicTextField';\r\nimport { MqttSettingContext, MqttContext, AlertContext} from 'hooks/context/Contexts';\r\nimport { types, messageConverter } from 'lib/converter/MessageConverter';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  margin: {\r\n    margin: theme.spacing(1),\r\n  },\r\n  slider: {\r\n    width: '100px',\r\n    marginLeft: theme.spacing(2),\r\n  },\r\n  formControl: {\r\n    margin: theme.spacing(1),\r\n    minWidth: '100%',\r\n  },\r\n}));\r\n\r\nconst defaultText = {\r\n  subscribeBtn: 'Subscribe',\r\n  unsubscribeBtn: 'Unsubscribe',\r\n  title: 'Subscribe',\r\n  contentText: 'Subscribe to a MQTT topic.',\r\n  converterLabel: 'Converter',\r\n}\r\n\r\nexport default function MqttSubscribeDialog(props) {\r\n  const theme = useTheme();\r\n  const classes = useStyles();\r\n  const {open, onChange} = props;\r\n  const [mqttSetting, setMqttSetting] = React.useContext(MqttSettingContext);\r\n  const [mqttState, dispatch] = React.useContext(MqttContext);\r\n  const [, setAlert, ] = React.useContext(AlertContext);\r\n\r\n  const handleSubscribe = () => {\r\n    if(!messageConverter[mqttSetting.subscribeTo.converter]){\r\n      setAlert(['error','CONVERTER_INVALID']);\r\n      return;\r\n    }\r\n    dispatch({type: 'subscribe', setting: mqttSetting});\r\n  }\r\n\r\n  const handlUnsubscribe = () =>{\r\n    dispatch({type: 'unsubscribe'});\r\n  }\r\n\r\n  const handleTopicChange = (prop) => (event, value) => {\r\n    setMqttSetting({ \r\n      ...mqttSetting, \r\n      subscribeTo : {\r\n        ...mqttSetting.subscribeTo, \r\n        [prop]: typeof value === 'undefined' ? event.target.value : value}\r\n    });\r\n    if(prop === 'converter' && !messageConverter[event.target.value]) setAlert(['error', 'CONVERTER_INVALID'])\r\n  };\r\n\r\n\r\n\r\n  return (\r\n    <ConfigDialog\r\n      open={open}\r\n      onChange={onChange}\r\n      title={theme.i18n('MqttSubscribeDialog','title', defaultText)}\r\n      contentText={theme.i18n('MqttSubscribeDialog','contentText', defaultText)}\r\n      content={(\r\n        <>\r\n          <TopicTextField\r\n            onChange={handleTopicChange('topic')}\r\n            value={mqttSetting.subscribeTo.topic}\r\n            error={!mqttSetting.subscribeTo.topic}\r\n          />\r\n          <QosSlider\r\n            value={mqttSetting.subscribeTo.qos}\r\n            onChange={handleTopicChange('qos')}\r\n          />\r\n          <FormControl className={classes.formControl} error={!messageConverter[mqttSetting.subscribeTo.converter]}>\r\n            <InputLabel htmlFor=\"age-native-simple\">{theme.i18n('MqttSubscribeDialog','converterLabel', defaultText)}</InputLabel>\r\n            <Select\r\n              native\r\n              value={mqttSetting.subscribeTo.converter}\r\n              onChange={handleTopicChange('converter')}\r\n              inputProps={{\r\n                name: 'converter',\r\n                id: 'converter',\r\n              }}\r\n            >\r\n              {types.map((type) => (\r\n                <option key={type.value} value={type.value}>{type.label}</option>\r\n              ))}\r\n            </Select>\r\n          </FormControl>\r\n        </>\r\n      )}\r\n      buttons={(\r\n        <>\r\n          <Button \r\n            onClick={handleSubscribe} \r\n            color=\"primary\" \r\n            disabled={!messageConverter[mqttSetting.subscribeTo.converter] || !mqttSetting.subscribeTo.topic || Boolean(mqttState.subscribedTo.topic && mqttState.mqtt.connected)}\r\n            variant={theme.palette.type === 'dark' ? 'contained' : 'text'}\r\n          >\r\n            {theme.i18n('MqttSubscribeDialog','subscribeBtn', defaultText)}\r\n          </Button>\r\n          <Button \r\n            onClick={handlUnsubscribe} \r\n            color=\"primary\" \r\n            disabled={!mqttState.subscribedTo.topic || !mqttState.mqtt.connected}\r\n            variant={theme.palette.type === 'dark' ? 'contained' : 'text'}\r\n          >\r\n            {theme.i18n('MqttSubscribeDialog','unsubscribeBtn', defaultText)}\r\n          </Button>\r\n        </>\r\n      )}\r\n    />\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport TextareaAutosize from '@material-ui/core/TextareaAutosize';\r\nimport { MqttSettingContext,  MqttContext} from 'hooks/context/Contexts';\r\nimport ConfigDialog from 'components/dialogs/ConfigDialog';\r\nimport QosSlider from 'components/inputs/QosSlider';\r\nimport TopicTextField from 'components/inputs/TopicTextField';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  margin: {\r\n    margin: theme.spacing(1),\r\n  },\r\n  slider: {\r\n    width: '100px',\r\n    marginLeft: theme.spacing(2),\r\n  },\r\n  textarea: {\r\n    font: 'inherit',\r\n    width: '100%',\r\n    marginLeft: theme.spacing(2),\r\n    boxSizing: 'border-box'\r\n  }\r\n}));\r\n\r\nconst defaultText = {\r\n  publishBtn: 'Publish',\r\n  title: 'Publish',\r\n  contentText: 'Publish a MQTT message.',\r\n  messageLabel: 'Message',\r\n  messagePlaceholder: 'Enter a MQTT message'\r\n}\r\n\r\nexport default function MqttPublishDialog(props) {\r\n  const theme = useTheme();\r\n  const classes = useStyles();\r\n  const {open, onChange} = props;\r\n  const [mqttSetting, setMqttSetting] = React.useContext(MqttSettingContext);\r\n  const [mqttState, dispatch] = React.useContext(MqttContext);\r\n\r\n  const handlePublish = () => {\r\n    dispatch({type: 'publish', setting: mqttSetting});\r\n  }\r\n\r\n  const handleTopicChange = (prop) => (event, value) => {\r\n    setMqttSetting({ \r\n      ...mqttSetting, \r\n      publishTo : {\r\n        ...mqttSetting.publishTo, \r\n        [prop]: typeof value === 'undefined' ? event.target.value : value}\r\n    });\r\n  };\r\n\r\n  return (\r\n    <ConfigDialog\r\n      open={open}\r\n      onChange={onChange}\r\n      title={theme.i18n('MqttPublishDialog','title', defaultText)}\r\n      contentText={theme.i18n('MqttPublishDialog','contentText', defaultText)}\r\n      content={(\r\n        <>\r\n          <TopicTextField\r\n            onChange={handleTopicChange('topic')}\r\n            value={mqttSetting.subscribeTo.topic}\r\n            error={!mqttSetting.subscribeTo.topic}\r\n          />\r\n          <QosSlider\r\n            value={mqttSetting.subscribeTo.qos}\r\n            onChange={handleTopicChange('qos')}\r\n          />\r\n          <InputLabel className={classes.margin}  error={!mqttSetting.publishTo.message}>{theme.i18n('MqttPublishDialog','messageLabel', defaultText)}</InputLabel>\r\n          <TextareaAutosize \r\n            error=\"true\"\r\n            aria-label=\"message\" \r\n            placeholder={theme.i18n('MqttPublishDialog','messagePlaceholder', defaultText)} \r\n            rowsMin=\"3\" \r\n            className={classes.textarea}  \r\n            onChange={handleTopicChange('message')}\r\n            value={mqttSetting.publishTo.message}\r\n          />\r\n        </>\r\n      )}\r\n      buttons={(\r\n        <>\r\n          <Button \r\n            onClick={handlePublish} \r\n            color=\"primary\" \r\n            disabled={!mqttState.mqtt?.connected || !mqttSetting.publishTo.topic || !mqttSetting.publishTo.message}\r\n            variant={theme.palette.type === 'dark' ? 'contained' : 'text'}\r\n          >\r\n            {theme.i18n('MqttPublishDialog','publishBtn', defaultText)}\r\n          </Button>\r\n        </>\r\n      )}\r\n    />\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Select from '@material-ui/core/Select';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport FormGroup from '@material-ui/core/FormGroup';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Autocomplete from '@material-ui/lab/Autocomplete';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Switch from '@material-ui/core/Switch';\r\nimport { AppSettingContext, MqttSettingContext, AlertContext } from 'hooks/context/Contexts';\r\nimport { DateTimePicker } from '@material-ui/pickers';\r\nimport { columns, collpasedColumns } from 'lib/converter/MessageConverter';\r\nimport ConfigDialog from 'components/dialogs/ConfigDialog';\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  margin: {\r\n    margin: theme.spacing(1),\r\n  },\r\n  filterControl: {\r\n    flexDirection: 'row',\r\n    '& > *': {\r\n      margin: theme.spacing(1)\r\n    }\r\n  },\r\n  formControl: {\r\n    minWidth: '180px',\r\n  }\r\n}));\r\n\r\nconst defaultText = {\r\n  localeLabel: 'Language',\r\n  darkModeLabel: 'Dark Mode',\r\n  lightModeLabel: 'Light Mode',\r\n  startTimeLabel: 'Start Time',\r\n  endTimeLabel: 'End Time',\r\n  filter: 'Filter',\r\n  filterOnLabel: 'Filter On',\r\n  filterOffLabel: 'Filter Off',\r\n  filterKeyLabel: 'Filter Key',\r\n  filterTextLabel: 'Filter Text',\r\n  langauges: {\r\n    enUS: 'English',\r\n    zhTW: '繁體中文'\r\n  },\r\n  title: 'Settings',\r\n  contentText: 'Application settings for MQTT Websocket Client.',\r\n}\r\n\r\n\r\nexport default function AppSettingsDialog(props) {\r\n  const classes = useStyles();\r\n  const {open, onChange} = props;\r\n  const [mqttSetting, ] = React.useContext(MqttSettingContext);\r\n  const [appSetting, setAppSetting] = React.useContext(AppSettingContext);\r\n  const [, setAlert, clearAlert] = React.useContext(AlertContext);\r\n  const theme = useTheme();\r\n  const keys = {...(columns[mqttSetting.subscribeTo.converter] ? columns[mqttSetting.subscribeTo.converter] : columns['default']), ...collpasedColumns[mqttSetting.subscribeTo.converter]};\r\n\r\n  const handleTimeChange = (key) => (value) => {\r\n    const timeRange = [...appSetting.filter.time];\r\n    switch(key){\r\n      case 0:\r\n        if(value && appSetting.filter.time[1] && value.isAfter(appSetting.filter.time[1])){\r\n          setAlert(['error','FILTER_INVALID_TIME_RANGE']);\r\n          clearAlert(2000);\r\n          return;\r\n        }\r\n        if(value) value.set({second:0,millisecond:0})\r\n        timeRange[0] = value;\r\n        setAppSetting({...appSetting, filter: {...appSetting.filter, time: timeRange}});\r\n        break;\r\n      case 1:\r\n        if(value && appSetting.filter.time[0] && value.isBefore(appSetting.filter.time[0])){\r\n          setAlert(['error','FILTER_INVALID_TIME_RANGE']);\r\n          clearAlert(2000);\r\n          return;\r\n        }\r\n        if(value) value.set({second:59,millisecond:999})\r\n        timeRange[1] = value;\r\n        setAppSetting({...appSetting, filter: {...appSetting.filter, time: timeRange}});\r\n        break;\r\n      default:\r\n        console.log(key);\r\n    }\r\n  }\r\n\r\n  const handleTextChange = (key) => (event, value) => {\r\n    const textFilter = [...appSetting.filter.text];\r\n    switch(key){\r\n      case 0:\r\n        textFilter[0] = event.target.value;\r\n        setAppSetting({...appSetting, filter: {...appSetting.filter, text: textFilter}});\r\n        break;\r\n      case 1:\r\n        textFilter[1] = event.target.value;\r\n        setAppSetting({...appSetting, filter: {...appSetting.filter, text: textFilter}});\r\n        break;\r\n      default:\r\n        console.log(key);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <ConfigDialog\r\n      open={open}\r\n      onChange={onChange}\r\n      title={theme.i18n('AppSettingsDialog','title', defaultText)}\r\n      contentText={theme.i18n('AppSettingsDialog','contentText', defaultText)}\r\n      content={(\r\n        <>\r\n          <FormControl fullWidth className={classes.margin}>\r\n            <Autocomplete\r\n              options={theme.supportLocales}\r\n              getOptionLabel={\r\n                (key) => defaultText.langauges[key] ? \r\n                  defaultText.langauges[key] : \r\n                  `${key.substring(0, 2)}-${key.substring(2, 4)}`\r\n              }\r\n              style={{ width: 300 }}\r\n              value={appSetting.locale}\r\n              disableClearable\r\n              onChange={(event, newValue) => {\r\n                setAppSetting({...appSetting, locale: newValue});\r\n              }}\r\n              renderInput={(params) => (\r\n                <TextField \r\n                  {...params} \r\n                  label={theme.i18n('AppSettingsDialog','localeLabel', defaultText)} \r\n                  variant=\"outlined\" \r\n                  fullWidth \r\n                />\r\n              )}\r\n            />\r\n          </FormControl>\r\n          <FormControl fullWidth className={classes.margin}>\r\n            <FormControlLabel\r\n              control={\r\n                <Switch\r\n                  checked={appSetting.darkMode}\r\n                  onChange={(event, newValue) => {\r\n                    console.log(newValue)\r\n                    setAppSetting({...appSetting, darkMode: newValue});\r\n                  }}\r\n                  name=\"darkMode\"\r\n                  color=\"secondary\"\r\n                />\r\n              }\r\n              label={theme.i18n('AppSettingsDialog', appSetting.darkMode ? 'lightModeLabel' : 'darkModeLabel' , defaultText)}\r\n              // labelPlacement=\"start\"\r\n            />\r\n          </FormControl>\r\n          <Typography variant=\"subtitle1\">{theme.i18n('AppSettingsDialog','filter', defaultText)}</Typography>\r\n          <FormControl fullWidth className={classes.margin}>\r\n            <FormControlLabel\r\n              control={\r\n                <Switch\r\n                  checked={appSetting.filterOn}\r\n                  onChange={(event, newValue) => {\r\n                    console.log(newValue)\r\n                    setAppSetting({...appSetting, filterOn: newValue});\r\n                  }}\r\n                  name=\"filterOn\"\r\n                  color=\"secondary\"\r\n                />\r\n              }\r\n              label={theme.i18n('AppSettingsDialog', appSetting.filterOn ? 'filterOffLabel' : 'filterOnLabel' , defaultText)}\r\n              // labelPlacement=\"start\"\r\n            />\r\n          </FormControl>\r\n          <FormGroup className={`${classes.filterControl}`}>\r\n            <DateTimePicker \r\n              label={theme.i18n('AppSettingsDialog','startTimeLabel', defaultText)}\r\n              value={appSetting.filter.time[0]} \r\n              onChange={handleTimeChange(0)} \r\n              error={false}\r\n              clearable\r\n            />\r\n            <DateTimePicker \r\n              label={theme.i18n('AppSettingsDialog','endTimeLabel', defaultText)}\r\n              value={appSetting.filter.time[1]} \r\n              onChange={handleTimeChange(1)} \r\n              error={false}\r\n              clearable\r\n            />\r\n          </FormGroup>\r\n          <FormGroup className={`${classes.filterControl}`}>\r\n            <FormControl className={classes.formControl}>\r\n              <InputLabel id=\"filter-key-select-label\">{theme.i18n('AppSettingsDialog','filterKeyLabel', defaultText)}</InputLabel>\r\n              <Select\r\n                labelId=\"filter-key-select-label\"\r\n                id=\"filter-key-select\"\r\n                value={appSetting.filter.text[0]}\r\n                onChange={handleTextChange(0)}\r\n              >\r\n                {Object.entries(keys).map(([key, column]) => (\r\n                  <MenuItem key={key} value={key}>{column}</MenuItem>\r\n                ))}\r\n              </Select>\r\n            </FormControl>\r\n            <TextField \r\n              fullWidth \r\n              id=\"filter-text\" \r\n              label={theme.i18n('AppSettingsDialog','filterTextLabel', defaultText)} \r\n              onChange={handleTextChange(1)}\r\n              value={appSetting.filter.text[1]}\r\n            />\r\n          </FormGroup>\r\n        </>\r\n      )}\r\n    />\r\n  );\r\n}\r\n","import React from 'react'\r\nimport MqttConnectDialog from 'components/dialogs/MqttConnectDialog';\r\nimport MqttSubscribeDialog from 'components/dialogs/MqttSubscribeDialog';\r\nimport MqttPublishDialog from 'components/dialogs/MqttPublishDialog';\r\nimport AppSettingsDialog from 'components/dialogs/AppSettingsDialog';\r\n\r\nexport default function DialogWrapper(props) {\r\n    const {\r\n        open,\r\n        openDialogs\r\n    } = props;\r\n    return (\r\n        <>\r\n            <MqttConnectDialog \r\n                open={open.openConnectDialog}\r\n                onChange={openDialogs.connect}\r\n            />\r\n            <MqttSubscribeDialog \r\n                open={open.openSubscribeDialog}\r\n                onChange={openDialogs.subscribe}\r\n            />\r\n            <MqttPublishDialog \r\n                open={open.openPublishDialog}\r\n                onChange={openDialogs.publish}\r\n            />\r\n            <AppSettingsDialog \r\n                open={open.openSettingsDialog}\r\n                onChange={openDialogs.settings}\r\n            />\r\n        </>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport './App.css';\r\nimport NavBar from 'components/NavBar';\r\nimport MessageTable from 'components/tables/MessageTable';\r\nimport ConfigActions from 'components/ConfigActions';\r\nimport AlertMessage from 'components/AlertMessage';\r\nimport DialogWrapper from 'components/dialogs/DialogWrapper';\r\nimport Container from '@material-ui/core/Container';\r\n\r\nconst useRowStyles = makeStyles((theme) => ({\r\n  container: {\r\n      paddingTop: theme.spacing(10),\r\n      minHeight: '100vh',\r\n      backgroundColor: theme.palette.background.default \r\n  }\r\n}));\r\n\r\nfunction App() {\r\n  const classes = useRowStyles();\r\n  const [hideActionBtn, setHideActionBtn] = React.useState(false);\r\n  const [openConnectDialog, setOpenConnectDialog] = React.useState(false);\r\n  const [openSubscribeDialog, setOpenSubscribeDialog] = React.useState(false);\r\n  const [openPublishDialog, setOpenPublishDialog] = React.useState(false);\r\n  const [openSettingsDialog, setOpenSettingsDialog] = React.useState(false);\r\n\r\n  const openDialogs = {\r\n    connect: setOpenConnectDialog,\r\n    subscribe: setOpenSubscribeDialog,\r\n    publish: setOpenPublishDialog,\r\n    settings: setOpenSettingsDialog\r\n  }\r\n\r\n  const setOpenDialog = (name) => {\r\n    openDialogs[name](true);\r\n  }\r\n  \r\n  return (\r\n    <>\r\n      <NavBar\r\n        hidden={hideActionBtn}\r\n        onChange={setHideActionBtn}\r\n      />\r\n      <Container maxWidth=\"xl\" className={classes.container}>\r\n        <MessageTable/>\r\n      </Container>\r\n      <ConfigActions\r\n        hidden={hideActionBtn}\r\n        onClick={setOpenDialog}\r\n      />\r\n      <AlertMessage/>\r\n      <DialogWrapper \r\n        open={{openConnectDialog, openSubscribeDialog, openPublishDialog, openSettingsDialog}}\r\n        openDialogs={openDialogs}\r\n      />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"sourceRoot":""}